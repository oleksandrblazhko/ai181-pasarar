# Тестування на основі вимог

## Огляд практики безпеки

Метою практики тестування на основі вимог (RT) є забезпечення того, щоб запроваджені засоби контролю безпеки працюють, як очікувалося, і задовольняють вимоги проекту заявлені вимоги безпеки. Це робиться шляхом поступового створення набору випадки тестування безпеки та регресії та їх регулярне виконання.

Ключовим аспектом цієї практики є увага як до позитивного, так і до негативного тестування. Перший перевіряє, чи задовольняють засоби контролю безпеки програми встановлені вимоги безпеки та підтверджує їх правильне функціонування. Ці вимоги зазвичай мають функціональний характер.

Негативне тестування стосується якість здійснення контролю безпеки та спрямована на виявлення несподівані недоліки дизайну та помилки реалізації через неправильне використання та зловживання тестування. У більш просунутих формах практика сприяє стресу безпеки тестування, наприклад, відмова в обслуговуванні, і прагне постійно вдосконалюватися безпека додатків шляхом послідовної автоматизації блок-тестів безпеки та створення регресійні тести безпеки для всіх виявлених і виправлених помилок.

Хоча як тестування на основі вимог, так і тестування безпеки стурбовані тестуванням безпеки, перший зосереджується на перевірці правильності виконання вимог безпеки, а остання спрямована на розкриття недоліки технічної реалізації програми, незалежно від вимоги.

## Огляд потоків

### Потік А - контрольна перевірка

Контрольна перевірка підтверджує, що заходи безпеки та вимоги виконані через тестування, що випливає з вимог, і запобігає введенню помилки в пізніших випусках через регресійне тестування.

### Потік B - Тестування на неправильне використання/зловживання

Тестування на неправильне використання/зловживання використовує фаззинг, випадки неправильного використання/зловживання та визначення будь-яких функціональних можливостей або ресурсів у програмному забезпеченні, які можуть бути зловживання, щоб виявити слабкі місця в функціях для атаки програми.

## Потік А - контрольна перевірка

## Рівень зрілості 1

### Вигода

Перевірена ефективність ваших стандартних засобів захисту

### Діяльність

Проведіть тести безпеки, щоб переконатися, що стандартні елементи керування безпекою програмного забезпечення працюють належним чином. На високому рівні це означає тестування правильного функціонування засобів контролю конфіденційності, цілісності та доступності даних, а також служби. Тести безпеки принаймні включають тестування на автентифікацію, контроль доступу, перевірку введених даних, кодування, а також захист від даних і керування шифруванням. Мета тесту полягає в тому, щоб підтвердити правильність засобів контролю безпеки реалізовано.

Тестування безпеки підтверджує відповідні засоби контролю безпеки програмного забезпечення. Виконуйте контрольно-перевірочні тести безпеки вручну або за допомогою інструментів щоразу, коли програма змінює використання елементів керування. Такі методи, як перемикання функцій і тестування A/B, можна використовувати для поступового показу функцій ширшій аудиторії, оскільки вони достатньо перевірені Перевірка контролю програмного забезпечення є обов’язковою для всього програмного забезпечення, яке є частиною програми SAMM.

## Рівень зрілості 2

### Вигода

Інтеграція вимог безпеки в тестові сценарії

### Діяльність

Виходячи з вимог безпеки, визначте та впровадьте набір тестів безпеки, щоб перевірити програмне забезпечення на правильність функціональності. Щоб мати успішну програму тестування, ви повинні знати цілі тестування, визначені вимогами безпеки.

Отримайте тестові випадки безпеки для програм, що знаходяться в області дії, на основі вимог безпеки, створених як частина практики безпеки SAMM «Вимоги безпеки». Щоб перевірити вимоги безпеки за допомогою тестів безпеки, вимоги безпеки керуються функціями та підкреслюють очікувану функціональність (що) і, неявно, реалізацію (як). Ці вимоги також називаються «позитивними вимогами», оскільки вони визначають очікувану функціональність, яку можна перевірити за допомогою тестів безпеки.

Приклади позитивних вимог включають: «програма заблокує користувача після шести невдалих «спроб входу» або «паролі мають містити щонайменше шість літерно-цифрових символів». Перевірка позитивних вимог полягає у підтвердженні очікуваної функціональності. Ви можете зробити це повторно -створення умов тестування та виконання тесту відповідно до попередньо визначених вхідних даних Показати результати як умову невдачі або проходження.

Часто найефективніше використовувати час команди проекту для створення тестових випадків для конкретної програми, а загальнодоступні ресурси або придбані бази знань – для вибору відповідних загальних тестових випадків для безпеки. Відповідні спеціалісти з розробки, безпеки та забезпечення якості перевіряють тестові приклади кандидатів на застосовність, ефективність і здійсненність. Отримайте тестові випадки на етапі вимог та/або проектування функціональності. Перевірка вимог безпеки є частиною функціонального тестування програмного забезпечення.

## Рівень зрілості 3

### Вигода

Своєчасне та надійне виявлення порушень вимог безпеки

### Діяльність

Напишіть і автоматизуйте регресійні тести для всіх виявлених (і виправлених) помилок, щоб переконатися, що вони стануть тестовою системою, яка запобігатиме появі подібних проблем під час наступних випусків. Блокові тести безпеки повинні динамічно (тобто під час виконання) перевіряти, чи компоненти функціонують належним чином, а також повинні підтверджувати, що зміни коду впроваджено належним чином.

Хорошою практикою для розробників є створення тестів безпеки як загального набору тестів безпеки, який є частиною існуючої системи модульного тестування. Загальний набір тестів безпеки може включати випадки тестування безпеки для перевірки як позитивних, так і негативних вимог до елементів керування безпекою, таких як ідентифікація, автентифікація та контроль доступу, перевірка введення та кодування, керування користувачами та сеансами, обробка помилок і винятків, шифрування, а також аудит і журналювання.
Перевірте правильність виконання тестів безпеки якомога раніше. Наприклад, якщо це можливо, розгляньте проходження тестів безпеки як частину вимог до злиття, перш ніж дозволити новому коду ввійти в основну кодову базу.

Крім того, вважайте їх виконання вимогою для перевірки збірки. Для функціональних тестів безпеки використовуйте тести на рівні модуля для функціональності елементів керування безпекою на рівні програмного компонента, наприклад функцій, методів або класів. Наприклад, тестовий приклад може перевірити перевірку вхідних і вихідних даних (наприклад, очищення змінних) і граничні перевірки для змінних, стверджуючи очікувану функціональність компонента.

## Потік B - Тестування на неправильне використання/зловживання

## Рівень зрілості 1

### Вигода

Дізнайтеся про поведінку ваших програм під час роботи з неочікуваним введенням

### Діяльність

Виконуйте фаззин, надсилаючи випадкові або неправильно сформовані дані суб’єкту тестування, намагаючись викликати його збій. Fuzz-тестування або Fuzzing — це техніка тестування програмного забезпечення «чорної скриньки», яка полягає у пошуку помилок реалізації за допомогою автоматичного введення неправильних або напівдеформованих даних. Охоплюйте принаймні мінімальний фаззинг на наявність уразливостей щодо основних вхідних параметрів програми.

Перевагою фаз-тестування є простота дизайну тесту та відсутність упереджень щодо поведінки системи. Стохастичний підхід призводить до помилок, які людське око або структуроване тестування часто пропускають. Це також один із небагатьох засобів оцінки якості закритої системи (наприклад, SIP-телефону). Простота фаззингу цілі компенсується труднощами точного виявлення та сортування збоїв. Віддавайте перевагу існуючим інструментам і фреймворкам фаззингу, щоб використовувати їх допоміжні інструменти.

## Рівень зрілості 2

### Вигода

Виявлення недоліків бізнес-логіки програми

### Діяльність

Випадки неправильного використання та зловживання описують сценарії ненавмисного та зловмисного використання програми, описуючи, як зловмисник міг це зробити. Створюйте випадки зловживань і зловживань, щоб зловживати або використовувати слабкі місця елементів керування в функціях програмного забезпечення для атаки на програму. Використовуйте моделі випадків зловживання для програми, щоб служити джерелом для виявлення конкретних тестів безпеки, які прямо чи опосередковано використовують сценарії зловживання.

Зловживання функціональними можливостями, яке іноді називають «атакою на бізнес-логіку», залежить від дизайну та реалізації функцій і функцій програми. Прикладом є використання потоку скидання пароля для перерахування облікових записів.

У рамках тестування бізнес-логіки визначте бізнес-правила, важливі для програми, і перетворіть їх на експерименти, щоб перевірити, чи програма належним чином виконує бізнес-правила. Наприклад, у додатку для торгівлі акціями, чи дозволено зловмиснику розпочати торгівлю на початку дня та зафіксувати ціну, утримувати транзакцію відкритою до кінця дня, а потім завершити продаж, якщо ціна акції зросла чи скасувати, якщо ціна впала?

## Рівень зрілості 3

### Вигода

Прозорість стійкості проти атак типу «відмова в обслуговуванні».

### Діяльність

Програми особливо вразливі до атак типу «відмова в обслуговуванні». Виконайте проти них стрес-тестування на відмову в обслуговуванні та безпеку в контрольованих умовах, бажано в середовищах прийняття програм.

Інструменти навантажувального тестування генерують синтетичний трафік, що дозволяє тестувати продуктивність програми під великим навантаженням. Одним з важливих тестів є те, скільки запитів на секунду може обробити програма, залишаючись у межах вимог до продуктивності. Тестування з однієї IP-адреси все ще корисне, оскільки воно дає вказівку на те, скільки запитів має створити зловмисник щоб вплинути на програму.

Атаки на відмову в обслуговуванні зазвичай призводять до виснаження ресурсів програми. Щоб визначити, чи можна використовувати будь-які ресурси для створення відмови в обслуговуванні, проаналізуйте кожен ресурс програми, щоб побачити, як він може бути вичерпаний. Визначити пріоритетність дій, які може виконувати неавтентифікований користувач. Доповніть загальні тести на відмову в обслуговуванні стрес-тестами безпеки, щоб виконати дії або створити умови, які спричиняють затримки, збої або збої в тестовій програмі.
